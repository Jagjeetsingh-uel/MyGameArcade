<!DOCTYPE html>
<html lang="en">
<head>
        <!-- Analytics -->
        <script defer src="analytics.js"></script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>NEON ARCADE</title>
    
        <!-- SEO Meta Tags -->
        <meta name="description" content="Neon Arcade: Free instant‚Äëplay HTML5 mini games (runner, swing, orbit, stack, typing). No downloads.">
        <meta name="keywords" content="HTML5 games, browser arcade, mini games, neon arcade, typing game, runner game">
        <meta name="author" content="Jagjeet Singh">
        <meta name="robots" content="index,follow">
        <link rel="canonical" href="https://jagjeetsingh-uel.github.io/MyGameArcade/">
        <!-- Open Graph / Social -->
        <meta property="og:type" content="website">
        <meta property="og:title" content="Neon Arcade ‚Äì HTML5 Mini Games Hub">
        <meta property="og:description" content="Play free lightweight neon‚Äëstyled browser mini games instantly.">
        <meta property="og:url" content="https://jagjeetsingh-uel.github.io/MyGameArcade/">
        <meta property="og:image" content="https://jagjeetsingh-uel.github.io/MyGameArcade/assets/cover.png">
        <meta name="twitter:card" content="summary_large_image">
        <meta name="twitter:title" content="Neon Arcade ‚Äì HTML5 Mini Games Hub">
        <meta name="twitter:description" content="Collection of fast neon browser games.">
        <meta name="twitter:image" content="https://jagjeetsingh-uel.github.io/MyGameArcade/assets/cover.png">
        <meta name="theme-color" content="#050510">
        <!-- PWA Manifest -->
        <link rel="manifest" href="/MyGameArcade/manifest.json">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
        <meta name="apple-mobile-web-app-title" content="Neon Arcade">
        <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "WebSite",
            "name": "Neon Arcade",
            "url": "https://jagjeetsingh-uel.github.io/MyGameArcade/",
            "description": "Collection of lightweight HTML5 mini games playable instantly in the browser.",
            "inLanguage": "en",
            "publisher": {"@type": "Person", "name": "Jagjeet Singh"}
        }
        </script>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Poppins:wght@300;600&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/three@0.132.2/build/three.min.js"></script>
    <style>
        :root {
            --neon-blue: #00f3ff;
            --neon-pink: #ff0055;
            --neon-green: #00ff9d;
            --glass: rgba(255, 255, 255, 0.05);
            --border: rgba(255, 255, 255, 0.1);
        }

        * { box-sizing: border-box; }

        body {
            margin: 0; overflow-x: hidden;
            background: #050510;
            font-family: 'Poppins', sans-serif;
            color: white;
        }

        #bg-canvas {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            z-index: -1;
        }

        /* --- UI CONTAINER --- */
        .container {
            max-width: 1200px; margin: 0 auto; padding: 40px 20px;
            position: relative; z-index: 10;
        }

        /* --- HEADER --- */
        header {
            text-align: center; margin-bottom: 60px;
            animation: fadeInDown 1s ease;
        }

        h1 {
            font-family: 'Orbitron', sans-serif;
            font-size: 4rem; margin: 0;
            text-transform: uppercase; letter-spacing: 4px;
            background: linear-gradient(to right, #fff, var(--neon-blue));
            -webkit-background-clip: text; -webkit-text-fill-color: transparent;
            filter: drop-shadow(0 0 20px rgba(0, 243, 255, 0.5));
        }

        p.subtitle {
            color: #aaa; font-size: 1.2rem; margin-top: 10px; letter-spacing: 1px;
        }

        /* --- GAME GRID --- */
        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
        }

        /* --- GAME CARD --- */
        .card {
            background: var(--glass);
            border: 1px solid var(--border);
            border-radius: 20px;
            padding: 20px;
            backdrop-filter: blur(10px);
            transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
            cursor: pointer;
            position: relative;
            overflow: hidden;
            text-decoration: none; /* For anchor tag */
            display: block;
        }

        .card:hover {
            transform: translateY(-10px) scale(1.02);
            border-color: var(--neon-blue);
            box-shadow: 0 10px 40px rgba(0, 243, 255, 0.2);
        }

        /* Abstract Thumbnail */
        .thumb {
            height: 160px; width: 100%;
            border-radius: 12px;
            margin-bottom: 20px;
            position: relative;
            overflow: hidden;
            display: flex; justify-content: center; align-items: center;
            font-size: 3rem;
        }

        .thumb::after {
            content: ''; position: absolute; top:0; left:0; width:100%; height:100%;
            background: linear-gradient(to bottom, transparent, rgba(0,0,0,0.6));
        }

        .card h2 {
            margin: 0; font-family: 'Orbitron', sans-serif; color: white; font-size: 1.4rem;
        }

        .card p {
            color: #bbb; font-size: 0.9rem; line-height: 1.5; margin-bottom: 20px;
        }

        .play-btn {
            background: white; color: black;
            padding: 10px 0; width: 100%;
            border-radius: 8px;
            text-align: center; font-weight: 700;
            text-transform: uppercase; letter-spacing: 1px;
            transition: 0.2s;
        }

        .card:hover .play-btn {
            background: var(--neon-blue);
            box-shadow: 0 0 15px var(--neon-blue);
        }

        /* --- ANIMATIONS --- */
        @keyframes fadeInDown { from {opacity:0; transform:translateY(-20px);} to {opacity:1; transform:translateY(0);} }

        /* --- SPECIFIC CARD STYLES --- */
        .c-cube { background: linear-gradient(45deg, #ff69b4, #ff8cc6); }
        .c-void { background: linear-gradient(45deg, #000000, #2c3e50); }
        .c-swing { background: linear-gradient(45deg, #00ff9d, #00cc7a); }
        .c-chroma { background: linear-gradient(45deg, #00f3ff, #ff0055); }
        .c-orbit { background: linear-gradient(45deg, #8e2de2, #4a00e0); }
        .c-stack { background: linear-gradient(45deg, #11998e, #38ef7d); }
        .c-prompt { background: linear-gradient(45deg, #F7971E, #FFD200); }
        .c-strike { background: linear-gradient(45deg, #0f2027, #203a43, #2c5364); }
        .c-jump { background: linear-gradient(45deg, #ff6b6b, #feca57); }

        /* Install button removed - PWA install handled by browser UI */

        /* --- SHARE BUTTON (RIGHT) --- */
        .share-btn {
            position: fixed; top: 20px; right: 20px; z-index: 100;
            background: var(--glass); border: 1px solid var(--border);
            backdrop-filter: blur(10px); border-radius: 12px;
            padding: 12px 20px; color: white; cursor: pointer;
            font-family: 'Orbitron', sans-serif; font-size: 1rem;
            transition: all 0.3s;
        }
        .share-btn:hover {
            background: var(--neon-blue); border-color: var(--neon-blue);
            box-shadow: 0 0 20px var(--neon-blue);
        }

        /* --- RANDOM PLAY BUTTON --- */
        .random-play-btn {
            background: linear-gradient(45deg, #ff0055, #ff8800);
            border: 2px solid white; border-radius: 50px;
            padding: 20px 40px; font-size: 1.3rem; font-weight: 700;
            text-transform: uppercase; letter-spacing: 2px; color: white;
            cursor: pointer; margin: 30px auto; display: block;
            font-family: 'Orbitron', sans-serif;
            transition: all 0.3s; box-shadow: 0 10px 30px rgba(255, 0, 85, 0.4);
        }
        .random-play-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 15px 50px rgba(255, 0, 85, 0.6);
        }

        /* --- PWA INSTALL MODAL --- */
        .pwa-modal {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(5, 5, 16, 0.95); backdrop-filter: blur(20px);
            display: none; justify-content: center; align-items: center;
            z-index: 200; animation: fadeIn 0.3s;
        }
        .pwa-modal.active { display: flex; }
        .pwa-content {
            background: var(--glass); border: 2px solid var(--neon-blue);
            border-radius: 20px; padding: 40px; max-width: 400px;
            text-align: center; backdrop-filter: blur(10px);
        }
        .pwa-content h2 {
            font-family: 'Orbitron', sans-serif; margin-top: 0;
            color: var(--neon-blue);
        }
        .pwa-content p { color: #ccc; line-height: 1.6; }
        .pwa-buttons { display: flex; gap: 15px; margin-top: 25px; }
        .pwa-btn {
            flex: 1; padding: 15px; border: none; border-radius: 10px;
            font-weight: 700; text-transform: uppercase; cursor: pointer;
            font-family: 'Orbitron', sans-serif; transition: 0.3s;
        }
        .pwa-btn.proceed {
            background: var(--neon-blue); color: black;
        }
        .pwa-btn.proceed:hover {
            box-shadow: 0 0 20px var(--neon-blue);
        }
        .pwa-btn.skip {
            background: transparent; border: 1px solid white; color: white;
        }
        .pwa-btn.skip:hover {
            background: rgba(255, 255, 255, 0.1);
        }
        @keyframes fadeIn { from {opacity: 0;} to {opacity: 1;} }

    </style>
</head>
<body>

    <!-- 3D BACKGROUND -->
    <canvas id="bg-canvas"></canvas>

    <!-- SHARE BUTTON (RIGHT) -->
    <button class="share-btn" onclick="shareArcade()">üì§ SHARE</button>

    <!-- PWA INSTALL MODAL -->
    <div class="pwa-modal" id="pwaModal">
        <div class="pwa-content">
            <h2>üéÆ INSTALL NEON ARCADE</h2>
            <p>Add this arcade to your home screen for quick access and offline play!</p>
            <div class="pwa-buttons">
                <button class="pwa-btn proceed" onclick="installPWA()">PROCEED</button>
                <button class="pwa-btn skip" onclick="skipPWA()">SKIP</button>
            </div>
        </div>
    </div>

    <div class="container">
        <header>
            <h1>NEON ARCADE</h1>
            <p class="subtitle">SELECT YOUR CHALLENGE</p>
            <button class="random-play-btn" onclick="playRandomGame()">üé≤ PLAY BLINDLY</button>
        </header>

        <div class="grid">
            
            <!-- GAME 1: Hyper Jump -->
            <a href="games/hyper_jump.html" class="card">
                <div class="thumb c-jump">üèîÔ∏è</div>
                <h2>HYPER JUMP</h2>
                <p>Tower climber. Jump on platforms, avoid the rising floor, reach new heights.</p>
                <div class="play-btn">PLAY NOW</div>
            </a>

            <!-- GAME 2: Cube Surfer -->
            <a href="games/cube_surfer.html" class="card">
                <div class="thumb c-cube">üßä</div>
                <h2>CUBE SURFER 3D</h2>
                <p>Infinite runner. Dodge trains, jump barriers, and collect stars.</p>
                <div class="play-btn">PLAY NOW</div>
            </a>

            <!-- GAME 3: Cyber Swing -->
            <a href="games/cyber_swing.html" class="card">
                <div class="thumb c-swing">üï∏Ô∏è</div>
                <h2>CYBER SWING</h2>
                <p>Grapple up the infinite shaft. Don't let the glitch catch you.</p>
                <div class="play-btn">PLAY NOW</div>
            </a>

            <!-- GAME 4: Neon Stack -->
            <a href="games/neon_stack.html" class="card">
                <div class="thumb c-stack">üèóÔ∏è</div>
                <h2>NEON STACK</h2>
                <p>Timing game. Build the tallest tower block by block.</p>
                <div class="play-btn">PLAY NOW</div>
            </a>

            <!-- GAME 5: Prompt Drop -->
            <a href="games/prompt_drop.html" class="card">
                <div class="thumb c-prompt">‚å®Ô∏è</div>
                <h2>PROMPT DROP</h2>
                <p>Speed typing. Destroy falling words before they hit the bottom.</p>
                <div class="play-btn">PLAY NOW</div>
            </a>

            <!-- GAME 6: Neon Orbit -->
            <a href="games/neon_orbit.html" class="card">
                <div class="thumb c-orbit">ü™ê</div>
                <h2>NEON ORBIT</h2>
                <p>Circular runner. Jump over spikes while orbiting the core.</p>
                <div class="play-btn">PLAY NOW</div>
            </a>

            <!-- GAME 7: Void Strike -->
            <a href="games/void_strike.html" class="card">
                <div class="thumb c-strike">üöÄ</div>
                <h2>VOID STRIKE</h2>
                <p>Bullet‚Äëhell space shooter. Dodge fire, collect power‚Äëups, defeat bosses.</p>
                <div class="play-btn">PLAY NOW</div>
            </a>

            <!-- GAME 8: Chroma Shift -->
            <a href="games/chroma_shift.html" class="card">
                <div class="thumb c-chroma">‚òØÔ∏è</div>
                <h2>CHROMA SHIFT</h2>
                <p>Reflex test. Shift your color to pass through energy barriers.</p>
                <div class="play-btn">PLAY NOW</div>
            </a>

            <!-- GAME 9: Void Weaver -->
            <a href="games/void_weaver.html" class="card">
                <div class="thumb c-void">üåå</div>
                <h2>VOID WEAVER</h2>
                <p>Physics momentum. Use gravity wells to slingshot through space.</p>
                <div class="play-btn">PLAY NOW</div>
            </a>

        </div>
    </div>

<script>
    // --- 3D BACKGROUND ANIMATION ---
    const canvas = document.getElementById('bg-canvas');
    const scene = new THREE.Scene();
    // Dark fog for depth
    scene.fog = new THREE.FogExp2(0x050510, 0.002);

    const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
    camera.position.z = 50; // Start camera back
    camera.position.y = 10;
    camera.rotation.x = -0.2;

    const renderer = new THREE.WebGLRenderer({ canvas, alpha: true });
    renderer.setSize(window.innerWidth, window.innerHeight);

    // 1. Moving Grid Floor
    const gridHelper = new THREE.GridHelper(2000, 100, 0x00f3ff, 0x222222);
    gridHelper.position.y = -10;
    scene.add(gridHelper);

    // 2. Floating Particles
    const starGeo = new THREE.BufferGeometry();
    const starCount = 1000;
    const posArray = new Float32Array(starCount * 3);
    
    for(let i = 0; i < starCount * 3; i++) {
        posArray[i] = (Math.random() - 0.5) * 200; // Spread wide
    }
    
    starGeo.setAttribute('position', new THREE.BufferAttribute(posArray, 3));
    const starMat = new THREE.PointsMaterial({
        size: 0.5, color: 0xff0055, transparent: true, opacity: 0.8
    });
    const stars = new THREE.Points(starGeo, starMat);
    scene.add(stars);

    // Animation Loop
    let speed = 0.2;
    
    function animate() {
        requestAnimationFrame(animate);

        // Move Grid effect
        gridHelper.position.z += speed;
        if(gridHelper.position.z > 20) gridHelper.position.z = 0;

        // Fly through stars
        stars.position.z += speed * 2;
        if(stars.position.z > 50) stars.position.z = -50;

        // Gentle camera sway
        camera.position.x = Math.sin(Date.now() * 0.0005) * 2;

        renderer.render(scene, camera);
    }

    // Resize handler
    window.addEventListener('resize', () => {
        camera.aspect = window.innerWidth / window.innerHeight;
        camera.updateProjectionMatrix();
        renderer.setSize(window.innerWidth, window.innerHeight);
    });

    animate();

    // --- RANDOM GAME PLAY ---
    function playRandomGame() {
        const games = [
            'games/hyper_jump.html',
            'games/cube_surfer.html',
            'games/cyber_swing.html',
            'games/neon_stack.html',
            'games/prompt_drop.html',
            'games/neon_orbit.html',
            'games/void_strike.html',
            'games/chroma_shift.html',
            'games/void_weaver.html'
        ];
        const randomGame = games[Math.floor(Math.random() * games.length)];
        window.location.href = randomGame;
    }

    // --- SHARE FUNCTION ---
    function shareArcade() {
        const url = window.location.href;
        const title = 'NEON ARCADE - Play Free HTML5 Games!';
        const text = 'Check out this awesome collection of neon arcade games!';
        
        if (navigator.share) {
            navigator.share({
                title: title,
                text: text,
                url: url
            }).catch(err => console.log('Share cancelled'));
        } else {
            // Fallback: copy to clipboard
            navigator.clipboard.writeText(url).then(() => {
                alert('Link copied to clipboard! Share it with your friends.');
            }).catch(() => {
                prompt('Copy this link to share:', url);
            });
        }
    }

    // --- PWA INSTALL ---
    let deferredPrompt;
    const pwaModal = document.getElementById('pwaModal');

    window.addEventListener('beforeinstallprompt', (e) => {
        // Store the event for later use but do not surface a custom install button.
        // Let the browser show its native install UI (address bar/menu) when appropriate.
        e.preventDefault();
        deferredPrompt = e;

        // On mobile, still show the install modal (instructions) if user hasn't dismissed it
        if (!localStorage.getItem('pwaPromptDismissed') && /Mobi|Android/i.test(navigator.userAgent)) {
            setTimeout(() => {
                pwaModal.classList.add('active');
            }, 2000);
        }
    });

    // Check if already installed or iOS - nothing to show, browser handles install UI
    window.addEventListener('load', () => {
        // If already running as standalone, hide the install modal
        if (window.matchMedia('(display-mode: standalone)').matches) {
            pwaModal.classList.remove('active');
            localStorage.setItem('pwaPromptDismissed', 'true');
        }
    });

    // installApp removed; the browser's native install UI will be used. For unsupported
    // cases we still surface manual instructions from within installPWA().

    function installPWA() {
        if (deferredPrompt) {
            deferredPrompt.prompt();
            deferredPrompt.userChoice.then((choiceResult) => {
                if (choiceResult.outcome === 'accepted') {
                    console.log('User accepted PWA install');
                }
                deferredPrompt = null;
                pwaModal.classList.remove('active');
                localStorage.setItem('pwaPromptDismissed', 'true');
            });
        } else {
            // Manual instructions for iOS and other browsers
            const isIOS = /iPad|iPhone|iPod/.test(navigator.userAgent);
            const isAndroid = /Android/.test(navigator.userAgent);
            let message = 'To install NEON ARCADE:\n\n';
            if (isIOS) {
                message += 'üì± iOS/Safari:\n1. Tap the Share button (square with arrow)\n2. Scroll and tap "Add to Home Screen"\n3. Tap "Add"';
            } else if (isAndroid) {
                message += 'üì± Android:\n1. Tap menu (‚ãÆ) in browser\n2. Tap "Install app" or "Add to Home screen"\n3. Tap "Install"';
            } else {
                message += 'üíª Desktop:\n1. Look for install icon in address bar\n2. Or open browser menu\n3. Select "Install Neon Arcade..."\n\nSupported: Chrome, Edge, Opera';
            }
            alert(message);
            pwaModal.classList.remove('active');
            localStorage.setItem('pwaPromptDismissed', 'true');
        }
    }

    function skipPWA() {
        pwaModal.classList.remove('active');
        localStorage.setItem('pwaPromptDismissed', 'true');
    }

    // --- REGISTER SERVICE WORKER ---
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                // Only register service worker in a secure context (https) or localhost
                const isSecure = (location.protocol === 'https:' || location.hostname === 'localhost' || location.hostname === '127.0.0.1');
                if (!isSecure) {
                    console.log('Service Worker not registered: insecure context (protocol:', location.protocol + ')');
                    return;
                }

                // Try several possible paths so local testing and GitHub Pages both work.
                const swCandidates = ['/MyGameArcade/sw.js', '/sw.js', './sw.js', 'sw.js'];

                function tryRegister(index) {
                    if (index >= swCandidates.length) {
                        console.log('Service Worker registration failed: no valid path found');
                        return;
                    }
                    const path = swCandidates[index];
                    navigator.serviceWorker.register(path)
                        .then((registration) => {
                            console.log('Service Worker registered at', path, registration);
                        })
                        .catch((err) => {
                            console.log('Service Worker registration failed at', path, err);
                            tryRegister(index + 1);
                        });
                }

                tryRegister(0);
            });
        }
</script>
</body>
</html>